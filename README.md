# ruby-register
Sample app for Nishiwaki.rb &amp; Kobe.rb

Question is here:

# レジスター問題

## 問題

スーパーマーケットやコンビニに置いてあるようなレジ（レジスター）をRubyプログラムとして表現してください。

## レジスターの機能

今回作成するレジスターが備えている機能は以下のとおりです。

- ドロアには1000円札と500円玉と100円玉が入れられる
- 商品を購入できる。また支払額に応じてお釣りを返す
- 随時ドロアの現金を確認できる
- 随時売上額の合計を確認できる

### 購入できる商品

このレジで購入できる商品は以下の3種類に限定します。

- りんご 300円
- バナナ 200円
- レモン 100円

### 実装上の制限事項

プログラムが複雑になりすぎないよう、次のような制限事項を設けます。

- 支払いで使える紙幣・硬貨は1000円、500円、100円だけとする。
- お釣りは100円玉だけで返す。
- ドロアから現金がなくなるケースは考慮しない。
- 商品購入時に支払額が足りないケースは考慮しない。


## テストシナリオ

### シナリオ1（レジのセットアップ）

レジにお釣り用の500円玉5枚と100円玉10枚を入れる。

**期待する結果**

- ドロアの現金は1000円札0枚、500円玉5枚、100円玉10枚
- 売上額は0円

### シナリオ2（商品の購入・お釣り無し）

続けてレモンを1個買う。100円玉を1枚渡す。

**期待する結果**

- お釣りはなし
- ドロアの現金は1000円札0枚、500円玉5枚、100円玉11枚
- 売上額は100円

### シナリオ3（商品の購入・お釣りあり）

続けてバナナを4個買う。500円玉を2枚渡す。

**期待する結果**

- お釣りは100円玉2枚
- ドロアの現金は1000円札0枚、500円玉7枚、100円玉9枚
- 売上額は900円

### シナリオ4（商品の購入・商品や硬貨・紙幣の種類が複数）

続けてりんごを3個とレモン2個を買う。1000円札1枚と500円玉1枚を渡す。

**期待する結果**

- お釣りは100円玉4枚
- ドロアの現金は1000円札0枚、500円玉8枚、100円玉5枚
- 売上額は2000円

### シナリオ5（さらなる機能追加）

実際のレジを想像しながら、プログラムに新しい機能を追加してください。

以下は追加する新しい機能の例です。

- 100円玉以外の紙幣や硬貨もお釣りとして返せる。（小銭が少なくなるようにお釣りを返す）
- 500円玉がドロアからなくなったら100円玉を集めてお釣りを返す。
- 1000円、500円、100円以外の紙幣や硬貨も使える。
- 支払金額が購入金額に達していない場合に対処する。
- お釣り用の現金が足りない場合に対処する。
- 累計売上額だけでなく、どの商品がいくつ売れたのかも確認できるようにする。
- 購入できる商品や価格を柔軟に変えられるようにする。


## Generate API document

```
rdoc ./lib/*.rb && open ./doc/index.html
```

## How to run tests

```
ruby ./test/register_test.rb 
```
